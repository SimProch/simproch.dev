import { c as create_ssr_component, e as escape } from "./ssr.js";
import { C as Contents } from "./09-graphs2.js";
const _09_graphs = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  const contents = Contents;
  if ($$props.contents === void 0 && $$bindings.contents && contents !== void 0)
    $$bindings.contents(contents);
  return `<h1>${escape(Contents.title)}</h1> <p>${escape(contents.subtitle)}</p> <h2 data-svelte-h="svelte-1j1kxdd"><a href="#intro">Introduction</a><span id="intro"></span></h2> <p data-svelte-h="svelte-hetlwc">So, we’re getting to the end of this part. Graphs are the last piece of data structures I’ll investigate as part of this series.</p> <p data-svelte-h="svelte-bxqj7r">So, what are graphs? Well, graphs are a form or trees. But not really.</p> <p data-svelte-h="svelte-qt2w3s">They are really similar - we have nodes that are connected. As such, all trees are graphs.</p> <p data-svelte-h="svelte-akti5s">But not all graphs are trees. Graph is a big thing in mathematics - <a href="https://en.wikipedia.org/wiki/Graph_theory" rel="nofollow">Graph Theory</a> is
a big concept, and there’s a lot of terminology to be used:</p> <ul data-svelte-h="svelte-16y4cgc"><li>an <strong>edge</strong> is a connection between two graphs</li> <li>a <strong>vertex</strong> is a node in a graph</li> <li>a <strong>vertex</strong> can have 0 to N <strong>neighbors</strong> (or <strong>adjacent vertices</strong>) connected by an edge.</li> <li>we can have multiple types of graphs<ul><li>directed graph - vertices are linked asymmetrically (one-way)</li> <li>undirected graph - vertices are linked symmetrically (two-way)</li> <li>weighted graph - edges have “a price” - some paths have a value</li> <li>unweighted - there is no value</li></ul></li></ul> <p data-svelte-h="svelte-k60fjr">An undirected graph is one that has vertices and nodes, but no path is forced. An example is cities and roads leading to them
on the map.</p> <img src="/images/data-structures-and-algorithms/graph-undirected.png" alt="Undirected Graph" title="Undirected Graph" class="image" loading="lazy"> <p data-svelte-h="svelte-1wr0qnc">A directed graph, on the other hand, is one that has a forced path. Example of this can be social network
(I’m following you, you’re not following me).</p> <img src="/images/data-structures-and-algorithms/graph-directed.png" alt="Directed Graph" title="Directed Graph" class="image" loading="lazy"> <p data-svelte-h="svelte-1r3wyx6">Finally, each of them can be either weighted or unweighted. The cities and roads leading to them exist, but some roads
are longer than others and take more time. That’s the example of weighted graph</p> <img src="/images/data-structures-and-algorithms/graph-weighted.png" alt="Weighted Graph" title="Weighted Graph" class="image" loading="lazy"> <p data-svelte-h="svelte-zssrrb">Finally, an unweighted graph has no value along the edge.</p> <p data-svelte-h="svelte-b9gjsb">If you think about it, a 2D array can also be viewed as a graph in some cases:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-1okic5b">Consider that you have this array and you want to find a cheapest way from top right to bottom left.</p> <ul data-svelte-h="svelte-1p3oys3"><li>You start in one vertex (1)</li> <li>You have values in the individual nodes</li> <li>When you move to a next node, you carry the “price” for moving there</li></ul> <p data-svelte-h="svelte-1hk5cl2">Graphs are all around us and a lot of things can be described by graphs. They are very important, and the most successful products (= social networks)
use them extensively.</p> <p data-svelte-h="svelte-130azh4">One thing to note that all the data structures we’ve gone through can be stored in databases made for those specific use cases. There are some databases
to store graphs especially:</p> <ul data-svelte-h="svelte-1mkig9j"><li><a href="https://neo4j.com/" rel="nofollow">Neo4J</a></li> <li><a href="https://www.arangodb.com/" rel="nofollow">ArangoDB</a></li> <li><a href="https://giraph.apache.org/" rel="nofollow">Giraph Apache</a></li> <li>…and definitely more</li></ul> <h2 data-svelte-h="svelte-1o8l1z3"><a href="#scope">Scope</a><span id="scope"></span></h2> <p data-svelte-h="svelte-1b7hhrd">Since there are quite a few graphs, I’d like to do a couple things here.</p> <ul data-svelte-h="svelte-1vfjtr7"><li>I’ll create a couple graphs - weighted and unweighted</li> <li>I’ll apply 3 algorithms<ul><li>Breadth-First search</li> <li>Depth-First search</li> <li>Dijkstra</li></ul></li></ul> <p data-svelte-h="svelte-4q89vk">Finally, I’ll apply all of these on some other concepts (trees, arrays, objects).</p> <h2 data-svelte-h="svelte-1vl28qy"><a href="#directed-undirected">Directed and Undirected graphs</a><span id="directed-undirected"></span></h2> <p data-svelte-h="svelte-u42g7x">Let’s start with directed and undirected graphs, because it’s fairly straightforward. Look at the images above:</p> <ul data-svelte-h="svelte-g2j1hv"><li>A directed graph is one-way</li> <li>An undirected graph is two-way</li></ul> <p data-svelte-h="svelte-3cnrq1">Well, that’s nice. But how do we achieve it? Let’s create a vertex for that:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Vertex</span> <span class="token punctuation">&#123;</span>
    value<span class="token punctuation">;</span>
    adjacentVertices<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>adjacentVertices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-139f25v">In the vertex above, we have:</p> <ul data-svelte-h="svelte-74q337"><li>value - a node holds any value</li> <li>adjacent vertices (or neighbors) - connected nodes</li></ul> <p data-svelte-h="svelte-1m69wzq">Notice that we don’t have a class called “Graph”. Only individual nodes. So to connect them, we just add links within the array</p> <ul data-svelte-h="svelte-d83slx"><li>With directed vertex, we only add vertex to the current node</li> <li>With undirected vertex<ul><li>we add adjacent vertex to the current list</li> <li>we add the current vertex to the neighbor list</li></ul></li></ul> <p data-svelte-h="svelte-135xhj4">So, let’s do that real quick and define both directed and undirected vertices:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js">
<span class="token keyword">class</span> <span class="token class-name">DirectedVertex</span> <span class="token keyword">extends</span> <span class="token class-name">Vertex</span> <span class="token punctuation">&#123;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span><span class="token parameter">vertex</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>adjacentVertices<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>vertex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">UndirectedVertex</span> <span class="token keyword">extends</span> <span class="token class-name">Vertex</span> <span class="token punctuation">&#123;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span><span class="token parameter">vertex</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>adjacentVertices<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>vertex<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>adjacentVertices<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>vertex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        vertex<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-1j6194s">And that’s actually all for directed and undirected graphs! The weighted will be pretty much the same, just with different weight! But we’ll see that later.</p> <h2 data-svelte-h="svelte-1uz30wa"><a href="#unweighted">Unweighted Graphs</a><span id="unweighted"></span></h2> <p data-svelte-h="svelte-vqj1df">So, with the code above, we have all we need for creating unweighted graphs, because there is no weight taken into account whatsoever!</p> <p data-svelte-h="svelte-110pe6r">Now, you don’t actually need to use classes for that. It’s just easier. You might as well have a simple object to do the same thing:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">const</span> friends <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token string-property property">"Bob"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Cynthia"</span><span class="token punctuation">]</span>
  <span class="token string-property property">"Cynthia"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Bob"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"Elise"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Fred"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"Fred"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Elise"</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-1xlc1rs">That is actually a undirected graph. Let’s look closer:</p> <ul data-svelte-h="svelte-ta4yg"><li>Bob is friend with Cynthia and Elise is friends with Fred</li> <li>The “friends” is basically two-way, making it undirected</li></ul> <p data-svelte-h="svelte-18aowzl">Now, let’s make this directed - let’s look at followers!</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">const</span> followees <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token string-property property">"Bob"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Cynthia"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"Cynthia"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token string">"Fred"</span><span class="token punctuation">,</span> <span class="token string">"Elise"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"Elise"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Fred"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"Fred"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Elise"</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-10nvsx3">While friends was always 1-1 relationship, in here, we can potentially have 1-0 (as in individual links).</p> <p data-svelte-h="svelte-i22xyo">The reason I used classes above is to have an easier access to adding the vertices. But, for the sake of recap, let’s do it in objects as well:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">const</span> followees2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">Bob</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">follows</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Cynthia"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function">addFollower</span><span class="token punctuation">(</span><span class="token parameter">follower</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>follows<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>follower<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">follow</span><span class="token punctuation">(</span><span class="token parameter">who</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      followees2<span class="token punctuation">[</span>who<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addFollower</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">Cynthia</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">follows</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Bob"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function">addFollower</span><span class="token punctuation">(</span><span class="token parameter">follower</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>follows<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>follower<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">follow</span><span class="token punctuation">(</span><span class="token parameter">who</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      followees2<span class="token punctuation">[</span>who<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addFollower</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-nrqf4o">You can see that both function <code>addFollower</code> and <code>follow</code> are identical. We could use a factory pattern in here. Or classes. But the idea is the same as
with classes above.</p> <p data-svelte-h="svelte-11i9el7">In any way, no matter the direction, we could still potentially get to the same node. Consider the following:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">const</span> friends <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token string-property property">"Bob"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Cynthia"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"Cynthia"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Bob"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">const</span> followees <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token string-property property">"Bob"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Cynthia"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"Cynthia"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Daniel"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"Daniel"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Bob"</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-n63x08">While the first object is undirected, the second object is directed. In both cases, we can get to the original node. This is why some graphs
are not trees - they can be circular.</p> <p data-svelte-h="svelte-1e8qrro">And that’s the main problem we’ll be tackling here with algorithms. What we need to solve is basically:</p> <ul data-svelte-h="svelte-fpu6eo"><li>Go through all vertices (or <strong>traverse</strong>, if you will)</li> <li>Make sure that visited vertices won’t be taken twice</li></ul> <p data-svelte-h="svelte-cm7quc">For weighted graphs, there’s another rule, But we’ll leave that for later. Without further ado, let’s get started with Depth-first search!</p> <h2 data-svelte-h="svelte-1sle09k"><a href="#dfs">DFS</a><span id="dfs"></span></h2> <p data-svelte-h="svelte-70eem7"><a href="https://en.wikipedia.org/wiki/Depth-first_search" rel="nofollow">Depth-first search</a> is an algorithm for traversing graphs (and by extension, trees).</p> <p data-svelte-h="svelte-1ptqd34">The idea is:</p> <ul data-svelte-h="svelte-110aa6u"><li>Go to the deepest node first there is (depth)</li> <li>From there, go back up and continue</li></ul> <p data-svelte-h="svelte-33oz6n">This applies to graphs as much as it applies to trees. But for the sake of simplicity, I’ll describe the example with trees. Consider the following tree:</p> <ul data-svelte-h="svelte-9i92s4"><li>1<ul><li>2<ul><li>4</li> <li>5</li></ul></li> <li>3<ul><li>6</li> <li>7</li></ul></li></ul></li></ul> <p data-svelte-h="svelte-bmdhz1">If we perform binary search on the tree above, we’ll visit the nodes in order <code>1, 2, 4, 5, 3, 6, 7</code>. That is:</p> <ul data-svelte-h="svelte-1prsv7c"><li>Go to the leaf level (1, 2, 4)</li> <li>Go to next leaf (5)</li> <li>Go to next leaf level in different branch (3, 6)</li> <li>Go to next leaf (7)</li></ul> <p data-svelte-h="svelte-l1k3tl">Now, this works for charts as well - we’ll go to the furthest connected link and then go back up. Let’s use the weighted example from above:</p> <img src="/images/data-structures-and-algorithms/graph-weighted.png" alt="Weighted Graph" title="Weighted Graph" class="image" loading="lazy"> <p data-svelte-h="svelte-pqk4gh">Now, there are weights here, but let’s just ignore them here because I’m to lazy to steal another image from wikipedia, and focus at the nodes. In this case,
DFS will be as follows:</p> <ul data-svelte-h="svelte-1or8whn"><li>Starting from node zero, we’ll traverse to the <strong>left</strong> node always:</li> <li>We go through <code>0, 1, 2, 3, 4</code></li> <li>Now, we could continue to <code>0</code>. But that’d be circular! So, we won’t visit <code>0</code> again!</li></ul> <p data-svelte-h="svelte-psd3ja">Note: The <strong>left</strong> node I mentioned above is not the rule. You <strong>COULD</strong> apply it, but more often than not, you’ll likely just go through whatever is
first in the array of links.</p> <p data-svelte-h="svelte-d2e19u">And another note - the algorithm is called search. That’s because it’s often used to find a value and return it.
If you’d search for node <code>2</code>, you would do an early return and not search through the entire graph</p> <p data-svelte-h="svelte-srt5pu">That being said, you can use it for traversing the entire graph.</p> <p data-svelte-h="svelte-1enmn0j">To perform the search, I’ll use the code below to created vertices with the object-oriented way:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">const</span> alice <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Alice"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> candy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Candy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Bob"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fred <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Fred"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> helen <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Helen"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> derek <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Derek"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> elaine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Elaine"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> gina <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Gina"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> irena <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Irena"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

alice<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>bob<span class="token punctuation">)</span><span class="token punctuation">;</span> 
alice<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>candy<span class="token punctuation">)</span><span class="token punctuation">;</span> 
bob<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>fred<span class="token punctuation">)</span><span class="token punctuation">;</span>
fred<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>helen<span class="token punctuation">)</span><span class="token punctuation">;</span>
candy<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>helen<span class="token punctuation">)</span><span class="token punctuation">;</span>
alice<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>derek<span class="token punctuation">)</span><span class="token punctuation">;</span>
alice<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>elaine<span class="token punctuation">)</span><span class="token punctuation">;</span>
derek<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>elaine<span class="token punctuation">)</span><span class="token punctuation">;</span>
derek<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>gina<span class="token punctuation">)</span><span class="token punctuation">;</span>
gina<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>irena<span class="token punctuation">)</span><span class="token punctuation">;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-gjlo64">The code looks as follows:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">depthFirstSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">current<span class="token punctuation">,</span> visited <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    visited<span class="token punctuation">[</span>current<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    current<span class="token punctuation">.</span>adjacentVertices<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">adjacent</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>visited<span class="token punctuation">[</span>adjacent<span class="token punctuation">.</span>value<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        visited<span class="token punctuation">[</span>adjacent<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token function">depthFirstSearch</span><span class="token punctuation">(</span>adjacent<span class="token punctuation">,</span> visited<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">depthFirstSearch</span><span class="token punctuation">(</span>alice<span class="token punctuation">)</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-1hm27ge">With the above code, we’ll get the following logs: ‘Alice’ -&gt; ‘Bob’ -&gt; ‘Fred’ -&gt; ‘Helen’ -&gt; ‘Candy’ -&gt; ‘Derek’ -&gt; ‘Elaine’ -&gt; ‘Gina’ -&gt; ‘Irena’</p> <p data-svelte-h="svelte-19zb8aj">If we look at the way how vertices were created, it becomes clear:</p> <ul data-svelte-h="svelte-ww2at5"><li>We’ve first added friends to ‘Alice’ - ‘Bob’ and ‘Candy’</li> <li>Then we added friends to ‘Bob’ - ‘Fred’</li> <li>Then we friends to ‘Fred’ - ‘Helen’</li> <li>Then we added friends to ‘Candy’ - ‘Helen’</li></ul> <p data-svelte-h="svelte-cohqhk">Now, I could go on and on, but we already have what we need</p> <ul data-svelte-h="svelte-1s2ah3v"><li>Alice friended Bob first, who is friends with Fred, who is Friends with Helen</li> <li>Because of this “depth”, those are the first ones logged</li> <li>Then, it continues from ‘Candy’ - because that’s another link</li></ul> <p data-svelte-h="svelte-1kkfqun">So, now that this is clear, let’s get to the “search” part:</p> <ul data-svelte-h="svelte-1vojhyl"><li>We just add an if to the beginning of the function</li></ul> <p data-svelte-h="svelte-1w9wqvh">So, the final search could be:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">depthFirstSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">current<span class="token punctuation">,</span> searchFor<span class="token punctuation">,</span> visited <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>current<span class="token punctuation">.</span>value <span class="token operator">===</span> searchFor<span class="token punctuation">)</span> <span class="token keyword">return</span> current<span class="token punctuation">;</span>
    visited<span class="token punctuation">[</span>current<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> current<span class="token punctuation">.</span>adjacentVertices<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> adjacent <span class="token operator">=</span> current<span class="token punctuation">.</span>adjacentVertices<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>visited<span class="token punctuation">[</span>adjacent<span class="token punctuation">.</span>value<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
        visited<span class="token punctuation">[</span>adjacent<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> found <span class="token operator">=</span> <span class="token function">depthFirstSearch</span><span class="token punctuation">(</span>adjacent<span class="token punctuation">,</span> searchFor<span class="token punctuation">,</span> visited<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>found<span class="token punctuation">)</span> <span class="token keyword">return</span> found<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">depthFirstSearch</span><span class="token punctuation">(</span>alice<span class="token punctuation">,</span> <span class="token string">"Fred"</span><span class="token punctuation">)</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-7k1qp6">I’ve made to things here:</p> <ul data-svelte-h="svelte-xu6v7h"><li>I’ve changed the <code>forEach</code> to <code>for</code> because you can’t do an early return from <code>forEach</code></li> <li>I’ve added check to the start</li></ul> <p data-svelte-h="svelte-12sj0ex">If we’d log the individual nodes, we’d get “Alice” -&gt; “Bob” -&gt; “Fred” and just return early.</p> <p data-svelte-h="svelte-ry1crk">And that’s it for depth-first search! We’ve just managed to create one using recursion! Onto BFS!</p> <h2 data-svelte-h="svelte-azc0t2"><a href="#bfs">BFS</a><span id="bfs"></span></h2> <p data-svelte-h="svelte-apie0v"><a href="https://en.wikipedia.org/wiki/Breadth-first_search" rel="nofollow">Breadth-first Search</a> is very similar to DFS, and use I’ll exactly the same code here for the setup.</p> <p data-svelte-h="svelte-1d4nat9">Now, using the same examples, let’s see what happens when we go through the following tree with BFS:</p> <ul data-svelte-h="svelte-9i92s4"><li>1<ul><li>2<ul><li>4</li> <li>5</li></ul></li> <li>3<ul><li>6</li> <li>7</li></ul></li></ul></li></ul> <p data-svelte-h="svelte-7jehge">With DFS, we’ve gone through it in order <code>1, 2, 4, 5, 3, 6, 7</code>.</p> <p data-svelte-h="svelte-snup6q">With BFS, the order would be <code>1,2,3,4,5,6,7</code>. The reason for that is that we’re moving per level (breadth), rather than going deep first.</p> <p data-svelte-h="svelte-8eurar">Now, using the same vertices as before, let’s write BFS for the same setup. The following code is copied from above:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">const</span> alice <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Alice"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> candy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Candy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Bob"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fred <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Fred"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> helen <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Helen"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> derek <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Derek"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> elaine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Elaine"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> gina <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Gina"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> irena <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Irena"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

alice<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>bob<span class="token punctuation">)</span><span class="token punctuation">;</span> 
alice<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>candy<span class="token punctuation">)</span><span class="token punctuation">;</span> 
bob<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>fred<span class="token punctuation">)</span><span class="token punctuation">;</span>
fred<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>helen<span class="token punctuation">)</span><span class="token punctuation">;</span>
candy<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>helen<span class="token punctuation">)</span><span class="token punctuation">;</span>
alice<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>derek<span class="token punctuation">)</span><span class="token punctuation">;</span>
alice<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>elaine<span class="token punctuation">)</span><span class="token punctuation">;</span>
derek<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>elaine<span class="token punctuation">)</span><span class="token punctuation">;</span>
derek<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>gina<span class="token punctuation">)</span><span class="token punctuation">;</span>
gina<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>irena<span class="token punctuation">)</span><span class="token punctuation">;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-1vnewp4">Now, for the breadth first search, since we’re moving by levels, we’ll do the following:</p> <ul data-svelte-h="svelte-16u1f9e"><li>We define an initial node</li> <li>We keep track of visited nodes</li> <li>We’ll create a queue and add the initial node to it<ul><li>We get the first item in the queue and remove it from the queue</li> <li>For each sibling, we add it to the queue if it was not already visited</li> <li>We print the item</li> <li>We perform the last 3 steps until the queue is empty</li></ul></li></ul> <p data-svelte-h="svelte-rwc4ah">Finally, it’ll look liker this:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">breadthFirstSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">initialNode</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> visited <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span>initialNode<span class="token punctuation">]</span><span class="token punctuation">;</span>
    visited<span class="token punctuation">[</span>initialNode<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> current <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        current<span class="token punctuation">.</span>adjacentVertices<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">vertex</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>vertex<span class="token punctuation">.</span>value<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>vertex<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            visited<span class="token punctuation">[</span>vertex<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">breadthFirstSearch</span><span class="token punctuation">(</span>alice<span class="token punctuation">)</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-18sd740">Note the positions of the <code>visited</code> definitions:</p> <ul data-svelte-h="svelte-hy1dc1"><li>We define initial node as visited at start for the first node because it’s already in the queue</li> <li>We define each node as visited the moment we add it to queue</li> <li>If we only added the visited flag inside the loop, we could get some nodes twice (e.g. multiple “2nd level” siblings could be friends with same “3rd level” sibling)</li></ul> <p data-svelte-h="svelte-1vjtr3k">Now, if we look at the initilization, we’ve started on node ‘Alice’.</p> <ul data-svelte-h="svelte-1jyn6kw"><li>‘Alice’ has 4 links - Bob, Candy, Derek, Elaine.</li> <li>‘Bob’ has 1 link - Fred</li> <li>‘Candy’ has 1 link - Helen</li></ul> <p data-svelte-h="svelte-1ocmxr0">If we put a print call on the current node in the while function, we’ll see the following order:</p> <p data-svelte-h="svelte-7qq4pf"><code>Alice -&gt; Bob -&gt; Candy -&gt; Derek -&gt; Elaine -&gt; Fred -&gt; Helen -&gt; Gina -&gt; Irena</code></p> <p data-svelte-h="svelte-1sdfh54">So, we can easily see that we are going by sibling nodes. And finally, if we wanted to search for a value, we’d just early return it within the <code>while</code> loop</p> <h2 data-svelte-h="svelte-1di21va"><a href="#dfs-bfs">DFS vs BFS</a><span id="dfs-bfs"></span></h2> <p data-svelte-h="svelte-1l36d0d">After writing the code for both, let’s compare them now! For the following setup:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">const</span> alice <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Alice"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> candy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Candy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Bob"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fred <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Fred"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> helen <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Helen"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> derek <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Derek"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> elaine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Elaine"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> gina <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Gina"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> irena <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UndirectedVertex</span><span class="token punctuation">(</span><span class="token string">"Irena"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

alice<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>bob<span class="token punctuation">)</span><span class="token punctuation">;</span> 
alice<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>candy<span class="token punctuation">)</span><span class="token punctuation">;</span> 
bob<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>fred<span class="token punctuation">)</span><span class="token punctuation">;</span>
fred<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>helen<span class="token punctuation">)</span><span class="token punctuation">;</span>
candy<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>helen<span class="token punctuation">)</span><span class="token punctuation">;</span>
alice<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>derek<span class="token punctuation">)</span><span class="token punctuation">;</span>
alice<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>elaine<span class="token punctuation">)</span><span class="token punctuation">;</span>
derek<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>elaine<span class="token punctuation">)</span><span class="token punctuation">;</span>
derek<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>gina<span class="token punctuation">)</span><span class="token punctuation">;</span>
gina<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>irena<span class="token punctuation">)</span><span class="token punctuation">;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-rdeeg4">We’ve the following prints:</p> <ul data-svelte-h="svelte-175e8de"><li>DFS: <code>Alice -&gt; Bob -&gt; Fred -&gt; Helen -&gt; Candy -&gt; Derek -&gt; Elaine -&gt; Gina -&gt; Irena</code></li> <li>BFS: <code>Alice -&gt; Bob -&gt; Candy -&gt; Derek -&gt; Elaine -&gt; Fred -&gt; Helen -&gt; Gina -&gt; Irena</code></li></ul> <p data-svelte-h="svelte-1m8viol">With both, we need to traverse the entire graph if we’re using it for traversal, and it’s O(N).</p> <p data-svelte-h="svelte-bwwc7n">However, if we were searching for a value, it might be different. Consider searching for “Fred” and “Candy” in the above example:</p> <ul data-svelte-h="svelte-1tlarwp"><li>Fred - DFS in 3 steps, BFS in 6 steps</li> <li>Candy - DFS in 5 steps, BFS in 3 steps</li></ul> <p data-svelte-h="svelte-kypzpf">Depending on the structure of your graph, you may want to use different searching algorithm.</p> <h2 data-svelte-h="svelte-9pc0gr"><a href="#weighted">Weighted Graphs</a><span id="weighted"></span></h2> <p data-svelte-h="svelte-mvkwrq">Now that we’ve gone through unweighted graphs, let’s look at weighted graphs. Before going into detail of them, there are basically 2 differences:</p> <ul data-svelte-h="svelte-ovmspm"><li>Weighted graphs are always directed (kind of)</li> <li>We need to keep track of <strong>weight</strong></li></ul> <p data-svelte-h="svelte-gt1k10">So, looking at the above, let’s create a class again:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Vertex</span> <span class="token punctuation">&#123;</span>
    name<span class="token punctuation">;</span>
    adjacentVertices<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>adjacentVertices <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">WeightedVertex</span> <span class="token keyword">extends</span> <span class="token class-name">Vertex</span> <span class="token punctuation">&#123;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// Adjacency list</span>
    <span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span><span class="token parameter">vertex<span class="token punctuation">,</span> weight</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>adjacentVertices<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>vertex<span class="token punctuation">,</span> weight<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-uk0eos">Now, we can see 2 things here:</p> <ul data-svelte-h="svelte-1ih27dr"><li>Vertices links are maps, not arrays</li> <li>When adding, we are setting to the map</li></ul> <p data-svelte-h="svelte-1olpvnl">Now, why did I say that weighted graphs are always directed? Well, directed doesn’t strictly mean one-way. In unweighted, it does, but with weighted ones:</p> <ul data-svelte-h="svelte-1yynlwx"><li>Consider taking a trip from London to Paris and back</li> <li>For whatever reason (e.g. road condition), while you have road from London to Paris and back, they may be different<ul><li>There may be some closures on the road</li> <li>There may be weather condition that make it impossible to go on one of the roads</li> <li>Basically, even though you connect London to Paris, you can have different weights</li></ul></li></ul> <p data-svelte-h="svelte-11bza5m">Both directions can have same value, sure. But it’s a weighted value that could potentially at some point change.</p> <p data-svelte-h="svelte-1tubrew">Again, as was the case in previous part, this is all we neded to create a bunch of vertices. Let’s do a couple here. I’ll use cities in this case rather than friends:</p> <p data-svelte-h="svelte-vhb754">Now that we have it defined, let’s discuss a little more about the use cases. Because weighted basically means you want to follow some path. In other words,
using weighted graphs is often used in pathfinding, and we’ll use pathfinding algorithms here. There’s quite a few of them</p> <ul data-svelte-h="svelte-1ggonm0"><li>Dijkstra</li> <li>A*</li> <li>And more (I can’t pretend I know all)</li></ul> <p data-svelte-h="svelte-k75gap">In this case, I’ll show Dijkstra’s algorithm.</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">const</span> denver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeightedVertex</span><span class="token punctuation">(</span><span class="token string">"Denver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> elPaso <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeightedVertex</span><span class="token punctuation">(</span><span class="token string">"El Paso"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> chicago <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeightedVertex</span><span class="token punctuation">(</span><span class="token string">"Chicago"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> boston <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeightedVertex</span><span class="token punctuation">(</span><span class="token string">"Boston"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> atlanta <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeightedVertex</span><span class="token punctuation">(</span><span class="token string">"Atlanta"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

denver<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>elPaso<span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
denver<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>chicago<span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
chicago<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>elPaso<span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
elPaso<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>boston<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
boston<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>chicago<span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
boston<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>denver<span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
atlanta<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>boston<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
atlanta<span class="token punctuation">.</span><span class="token function">addAdjacentVertex</span><span class="token punctuation">(</span>denver<span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-1imdgpd">So, as mentioned above, let’s find to shortest path between some cities. To visualize it, I’ve attempted the following draw.io diagram:</p> <img src="/images/data-structures-and-algorithms/graph-weighted-path.png" alt="Weighted Graph Paths" title="Weighted Graph Paths" class="image" loading="lazy"> <p data-svelte-h="svelte-13qcgfe">Now, some things to see here. Consider the links from Denver</p> <ul data-svelte-h="svelte-1140k0z"><li>From Denver to El Paso, the weight it 140</li> <li>From Denver to Chicago, it’s 40</li> <li>From Chicago to El Paso, it’s 80</li></ul> <p data-svelte-h="svelte-gmt939">Now, that’s important. Because if you’ll look closely, the shortest path from Denver to El Paso is not the direct link - it’s actually through Chicago!</p> <p data-svelte-h="svelte-9gu3aq">So, let’s consider we want to go from denver to el paso. How’d we do that?</p> <ul data-svelte-h="svelte-re2p67"><li>From Denver to Denver, the cost is 0</li> <li>From Denver to El Paso, the cost is 140</li> <li>From Denver to Chicago, the cost is 40</li> <li>From Chicago to El Paso, the cost is 80</li> <li>We’ve already visited El Paso once! So, we’ll <strong>track back</strong><ul><li>We know that previously, the value is 140</li> <li>Now, the value is 40 + 80</li> <li>We save the value <code>120</code> as the cost to get from “Denver” to “El Paso”, following this path</li></ul></li></ul> <p data-svelte-h="svelte-r31azj">Now, remember that back tracking part, because I’ll refer to it later.</p> <p data-svelte-h="svelte-vhvx87">So, how does Dijkstra work? Well, let’s look at it:</p> <ul data-svelte-h="svelte-tq2cfn"><li>As usual, we will start from any vertex, and we’ll be finding shortest path to another vertex</li> <li>We’ll compare the weights from the current vertex to adjacent ones</li> <li>As previously, we’ll use hash tables<ul><li>visited nodes</li> <li>cheapest cost (“Denver” to “El Paso” is 120, not “140”)</li> <li>previous stops (All the stops followed to get there)</li></ul></li> <li>We’ll also keep a queue of unvisited nodes, same as we did with BFS, to keep it from running infinitely</li></ul> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">function</span> <span class="token function">getCityStopsAndPriceList</span><span class="token punctuation">(</span><span class="token parameter">startVertex</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> cheapestCityToValue <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> previousStopsMap <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span>startVertex<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> visited <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    cheapestCityToValue<span class="token punctuation">[</span>startVertex<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
      <span class="token keyword">const</span> current <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      visited<span class="token punctuation">[</span>current<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token comment">/* There will be something here */</span> 
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-gfncsu">For visiting the adjacent nodes, we’ll perform the following:</p> <ul data-svelte-h="svelte-16uc1kg"><li>We get adjacent vertices</li> <li>We iterate over the vertices</li> <li>If the vertex hasn’t been visited yet, we add it to the unvisited array</li> <li>Remember that we keep track of how much it costs to get somewhere? Here, we’ll actually use it<ul><li>We’ll retrieve the value how much it costs to get to the adjacent vertex</li> <li>If there is no value, we add the current value</li> <li>If the <strong>passing</strong> value is lesser than the existing value, we overwrite it</li></ul></li></ul> <p data-svelte-h="svelte-96ffib">Now, that’s a little chaotic. So, let’s make it easier with a smaller example:</p> <ul data-svelte-h="svelte-1uktase"><li>We are in the node “Denver”. The cost to get from “Denver” to “Denver” is 0. We add it to the <code>cheapestCityToValue</code> hash map</li> <li>We go to node “El Paso”. The cost to get from “Denver” to “El Paso” is 140. We add it to the <code>cheapestCityToValue</code> hash map</li> <li>We go from “Denver” to “Chicago”. The cost is 40. We add it to the <code>cheapestCityToValue</code> hash map</li> <li>Now, we have a hash map of <code>{ Denver: 0, El Paso: 140, Chicago: 40 }</code></li> <li>We go from “Chicago” to “El Paso”. The cost is 80.<ul><li>We’ve already visited “El Paso” with the cost of 140</li> <li>We compare the current path from the hash map - <code>Chicago: 40</code> - and the current cost - <code>80</code></li> <li>We see that <code>80 + 40</code> is less than <code>140</code></li> <li>We replace the <code>cheapestCityToValue</code></li></ul></li> <li>We’ll now have a list of <code>{ Denver: 0, El Paso: 120, Chicago: 40 }</code></li></ul> <p data-svelte-h="svelte-g8e7yi">So, the passing value is basically the path to current node we’re at.</p> <p data-svelte-h="svelte-19fr8da">So, the code will do exactly that:</p> <ul data-svelte-h="svelte-1xtlc43"><li>Get adjacent vertices</li> <li>Iterate over them</li> <li>Add those that haven’t been visited to a queue</li> <li>Define the cost to these vertices by<ul><li>Initializing the value with passing value (cost to current city + link cost)</li> <li>Replace the hash map value if current value is lesser than already existing</li></ul></li></ul> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">function</span> <span class="token function">visitAdjacentVertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> adjacentEntries <span class="token operator">=</span> current<span class="token punctuation">.</span>adjacentVertices<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>adjacentVertex<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> adjacentEntries<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>adjacentVertex<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span> queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>adjacentVertex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> passingValue <span class="token operator">=</span> <span class="token punctuation">(</span>cheapestCityToValue<span class="token punctuation">[</span>current<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> value<span class="token punctuation">;</span>
    <span class="token keyword">const</span> alreadyFoundValue <span class="token operator">=</span> cheapestCityToValue<span class="token punctuation">[</span>adjacentVertex<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> currentHasValue <span class="token operator">=</span> alreadyFoundValue <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>currentHasValue <span class="token operator">||</span> passingValue <span class="token operator">&lt;</span> alreadyFoundValue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      cheapestCityToValue<span class="token punctuation">[</span>adjacentVertex<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> passingValue<span class="token punctuation">;</span>
      previousStopsMap<span class="token punctuation">[</span>adjacentVertex<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> current<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-1ci76zt">We put it all together:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">function</span> <span class="token function">dijkstra</span><span class="token punctuation">(</span><span class="token parameter">startVertex</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> cheapestCityToValue <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> previousStopsMap <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span>startVertex<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> visited <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  cheapestCityToValue<span class="token punctuation">[</span>startVertex<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> current <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    visited<span class="token punctuation">[</span>current<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> adjacentEntries <span class="token operator">=</span> current<span class="token punctuation">.</span>adjacentVertices<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>adjacentVertex<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> adjacentEntries<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>adjacentVertex<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span> queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>adjacentVertex<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> passingValue <span class="token operator">=</span> <span class="token punctuation">(</span>cheapestCityToValue<span class="token punctuation">[</span>current<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> value<span class="token punctuation">;</span>
      <span class="token keyword">const</span> alreadyFoundValue <span class="token operator">=</span> cheapestCityToValue<span class="token punctuation">[</span>adjacentVertex<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> currentHasValue <span class="token operator">=</span> alreadyFoundValue <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>currentHasValue <span class="token operator">||</span> passingValue <span class="token operator">&lt;</span> alreadyFoundValue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        cheapestCityToValue<span class="token punctuation">[</span>adjacentVertex<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> passingValue<span class="token punctuation">;</span>
        previousStopsMap<span class="token punctuation">[</span>adjacentVertex<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> current<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-x8es23">Now, if you look at it, it’s not really returning any short path. And here comes the important bit. Let’s compare it to BFS algorithm:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">breadthFirstSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">initialNode</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> visited <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span>initialNode<span class="token punctuation">]</span><span class="token punctuation">;</span>
    visited<span class="token punctuation">[</span>initialNode<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> current <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        current<span class="token punctuation">.</span>adjacentVertices<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">vertex</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>vertex<span class="token punctuation">.</span>value<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>vertex<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            visited<span class="token punctuation">[</span>vertex<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-1hushxd">If you compare them, you’ll notice that what I’ve just described is BFS with a couple additions:</p> <ul data-svelte-h="svelte-14kt4ol"><li>We are using a queue for adjacent nodes</li> <li>We are adding to the queue only if it hasn’t yet been visited</li></ul> <p data-svelte-h="svelte-8f71b6">So, the only change actually is:</p> <ul data-svelte-h="svelte-cmo52c"><li>Keeping track of already visited cities</li> <li>“Looking forward” - When I’m in Chicago and I’m seeing El Paso, I don’t go INTO it. I updated the value based on the link</li> <li>I update everything relative to the node i’m starting at</li></ul> <p data-svelte-h="svelte-1efdqdo">And that’s it. The only thing we are doing is we are traversing the array. And now you could say “Hey, but there’s finding the path, is there?”</p> <p data-svelte-h="svelte-1qx7qd2">Well, you’re completely right. Because this algorithm <strong>uses</strong> BFS, but extends it. And also, it’s not really dijkstra yet.</p> <p data-svelte-h="svelte-fwle3">At this point, we’ve found the value to go to any city. Let’s look what we get if we console log the <code>cheapestCityToValue and previousStopsMap</code></p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cheapestCityToValue<span class="token punctuation">)</span> <span class="token comment">// &#123; Denver: 0, 'El Paso': 120, Chicago: 40, Boston: 240 &#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>previousStopsMap<span class="token punctuation">)</span> <span class="token comment">// &#123; 'El Paso': 'Chicago', Chicago: 'Denver', Boston: 'El Paso' &#125;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-156al97">Now, you probably see what I meant when I mentioned the “Looking forward” - we have value to get to Boston, even though we never visited it.
That’s a side effect of looking forward.</p> <p data-svelte-h="svelte-1fktp3s">Anyways, now that we have all this data, we can find the shortest path!</p> <ul data-svelte-h="svelte-b781m0"><li>We have the destination and start</li> <li>We’ll enter the <code>previousStopsMap</code> and backtrack from there<ul><li>Start in ‘El Paso’</li> <li>Go to ‘Chicago’</li> <li>Go to ‘Denver’</li> <li>(compare that start is the same as current, break if true)</li></ul></li> <li>We push this in an array and we have the path <code>El Paso, Chicago, Denver</code>. We reverse the array and we have the path!</li></ul> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">function</span> <span class="token function">shortestPath</span><span class="token punctuation">(</span><span class="token parameter">startVertex<span class="token punctuation">,</span> destination</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> cheapestCityToValue<span class="token punctuation">,</span> previousStopsMap <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">dijkstra</span><span class="token punctuation">(</span>startVertex<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> shortestPath <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> currentCityName <span class="token operator">=</span> destination<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>currentCityName <span class="token operator">!==</span> startVertex<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    shortestPath<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>currentCityName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentCityName <span class="token operator">=</span> previousStopsMap<span class="token punctuation">[</span>currentCityName<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  shortestPath<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>currentCityName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> shortestPath<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">price</span><span class="token operator">:</span> cheapestCityToValue<span class="token punctuation">[</span>destination<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">function</span> <span class="token function">dijkstra</span><span class="token punctuation">(</span><span class="token parameter">startVertex</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> cheapestCityToValue <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> previousStopsMap <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span>startVertex<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> visited <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  cheapestCityToValue<span class="token punctuation">[</span>startVertex<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> current <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    visited<span class="token punctuation">[</span>current<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> adjacentEntries <span class="token operator">=</span> current<span class="token punctuation">.</span>adjacentVertices<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>adjacentVertex<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> adjacentEntries<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>adjacentVertex<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span> queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>adjacentVertex<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> passingValue <span class="token operator">=</span> <span class="token punctuation">(</span>cheapestCityToValue<span class="token punctuation">[</span>current<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> value<span class="token punctuation">;</span>
      <span class="token keyword">const</span> alreadyFoundValue <span class="token operator">=</span> cheapestCityToValue<span class="token punctuation">[</span>adjacentVertex<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> currentHasValue <span class="token operator">=</span> alreadyFoundValue <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>currentHasValue <span class="token operator">||</span> passingValue <span class="token operator">&lt;</span> alreadyFoundValue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        cheapestCityToValue<span class="token punctuation">[</span>adjacentVertex<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> passingValue<span class="token punctuation">;</span>
        previousStopsMap<span class="token punctuation">[</span>adjacentVertex<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> current<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-14zawl7">And we’ve successfully found a pathing through a chart!</p> <h2 data-svelte-h="svelte-16swnwo"><a href="#code">Code</a><span id="code"></span></h2> <p data-svelte-h="svelte-1tdrhdl">DFS:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">depthFirstSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">current<span class="token punctuation">,</span> visited <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    visited<span class="token punctuation">[</span>current<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    current<span class="token punctuation">.</span>adjacentVertices<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">adjacent</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>visited<span class="token punctuation">[</span>adjacent<span class="token punctuation">.</span>value<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        visited<span class="token punctuation">[</span>adjacent<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token function">depthFirstSearch</span><span class="token punctuation">(</span>adjacent<span class="token punctuation">,</span> visited<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-1tdq4fz">BFS:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">breadthFirstSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">initialNode</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> visited <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span>initialNode<span class="token punctuation">]</span><span class="token punctuation">;</span>
    visited<span class="token punctuation">[</span>initialNode<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> current <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        current<span class="token punctuation">.</span>adjacentVertices<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">vertex</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>vertex<span class="token punctuation">.</span>value<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>vertex<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            visited<span class="token punctuation">[</span>vertex<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-153q024">Dijkstra:</p> <pre class="language-js"><!-- HTML_TAG_START -->${`<code class="language-js"><span class="token keyword">function</span> <span class="token function">shortestPath</span><span class="token punctuation">(</span><span class="token parameter">startVertex<span class="token punctuation">,</span> destination</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> cheapestCityToValue<span class="token punctuation">,</span> previousStopsMap <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">dijkstra</span><span class="token punctuation">(</span>startVertex<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> shortestPath <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> currentCityName <span class="token operator">=</span> destination<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>currentCityName <span class="token operator">!==</span> startVertex<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    shortestPath<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>currentCityName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentCityName <span class="token operator">=</span> previousStopsMap<span class="token punctuation">[</span>currentCityName<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  shortestPath<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>currentCityName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> shortestPath<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">price</span><span class="token operator">:</span> cheapestCityToValue<span class="token punctuation">[</span>destination<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code>`}<!-- HTML_TAG_END --></pre> <h2 data-svelte-h="svelte-1gat2or"><a href="#summary">Summary</a><span id="summary"></span></h2> <p data-svelte-h="svelte-1lpdu17">In this part, we’ve gone through graphs and algorithms to deal with them.</p> <ul data-svelte-h="svelte-1xdmdtn"><li>DFS - Recursion - Unweighted</li> <li>BFS - While loop - Unweighted</li> <li>Dijkstra - Altered BFS - Weighted</li></ul> <p data-svelte-h="svelte-1ln35vq">That’s it for this part. There will be one final part where I will use these on other use cases!</p> <h2 data-svelte-h="svelte-153vzkz"><a href="#references">References</a><span id="references"></span></h2> <ul data-svelte-h="svelte-1qnzhll"><li><a href="https://www.amazon.com/Common-Sense-Guide-Data-Structures-Algorithms/dp/1680502441" rel="nofollow">A Common-Sense Guide to Data Structures and Algorithms</a></li> <li><a href="https://en.wikipedia.org/wiki/Graph_theory" rel="nofollow">Graph Theory</a></li> <li><a href="https://en.wikipedia.org/wiki/Depth-first_search" rel="nofollow">Depth-first search</a></li> <li><a href="https://en.wikipedia.org/wiki/Breadth-first_search" rel="nofollow">Breadth-first Search</a></li> <li><a href="https://neo4j.com/" rel="nofollow">Neo4J</a></li> <li><a href="https://www.arangodb.com/" rel="nofollow">ArangoDB</a></li> <li><a href="https://giraph.apache.org/" rel="nofollow">Giraph Apache</a></li></ul>`;
});
export {
  _09_graphs as default
};
